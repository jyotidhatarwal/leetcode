class Solution {
    public boolean isBipartite(int[][] graph) {
        int n = graph.length;
        int[] colorArray = new int[n];
        LinkedList<Integer> que = new LinkedList<>();
        // 0 --> not colored
        // 1 --> blue
        // -1 --> red
        
        for(int i=-0;i<n;i++){
            if(colorArray[i] == 0){
                que.add(i);
                colorArray[i] =1;
                while(que.size() > 0){
                    Integer rem =que.removeFirst();
                    
                    for(int nbrs: graph[rem]){
                        if(colorArray[nbrs] == colorArray[rem]) return false;
                        else if(colorArray[nbrs] == 0){
                            que.add(nbrs);
                            colorArray[nbrs] = - colorArray[rem];
                        }
                    }
                }
            }
        }
        return true;
    }
}
